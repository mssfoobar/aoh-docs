"use strict";(self.webpackChunkaoh_documentation=self.webpackChunkaoh_documentation||[]).push([[495],{41129:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>d,frontMatter:()=>t,metadata:()=>c,toc:()=>l});var s=i(74848),o=i(28453);const t={sidebar_position:5},a="Publishing",c={id:"web/guides/publishing",title:"Publishing",description:"Manual Publishing",source:"@site/docs/40_web/10_guides/5-publishing.md",sourceDirName:"40_web/10_guides",slug:"/web/guides/publishing",permalink:"/aoh-docs/docs/web/guides/publishing",draft:!1,unlisted:!1,editUrl:"https://github.com/mssfoobar/aoh-docs/tree/main/docs/40_web/10_guides/5-publishing.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"web",previous:{title:"Deployment",permalink:"/aoh-docs/docs/web/guides/deployment"},next:{title:"Documentation",permalink:"/aoh-docs/docs/web/guides/documentation"}},r={},l=[{value:"Manual Publishing",id:"manual-publishing",level:2},{value:"1. Test and use the packages before publishing:",id:"1-test-and-use-the-packages-before-publishing",level:3},{value:"2. Publishing the ready packages:",id:"2-publishing-the-ready-packages",level:3},{value:"Automatic Publishing",id:"automatic-publishing",level:2}];function h(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"publishing",children:"Publishing"}),"\n",(0,s.jsx)(n.h2,{id:"manual-publishing",children:"Manual Publishing"}),"\n",(0,s.jsx)(n.h3,{id:"1-test-and-use-the-packages-before-publishing",children:"1. Test and use the packages before publishing:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["In order to import components from ",(0,s.jsx)(n.code,{children:"@mssfoobar/aoh-web"})," for testing, use ",(0,s.jsx)(n.code,{children:"npm link"}),"\n(see ",(0,s.jsx)(n.a,{href:"https://docs.npmjs.com/cli/v8/commands/npm-link",children:"https://docs.npmjs.com/cli/v8/commands/npm-link"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:["This allows us to use components from ",(0,s.jsx)(n.code,{children:"@mssfoobar/aoh-web"})," without adding it as a dependency in ",(0,s.jsx)(n.code,{children:"package.json"}),".\nWe can then test against our local copy before actually publishing them to the npm registry."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd package\nnpm link\n\ncd ../\nnpm link @mssfoobar/aoh-web\n"})}),"\n",(0,s.jsx)(n.h3,{id:"2-publishing-the-ready-packages",children:"2. Publishing the ready packages:"}),"\n",(0,s.jsxs)(n.p,{children:["The Svelte components here are published to ",(0,s.jsx)(n.code,{children:"@mssfoobar/aoh-web"}),", to package and publish the components,\nperform the following steps:"]}),"\n",(0,s.jsxs)(n.p,{children:["First, run ",(0,s.jsx)(n.code,{children:"svelte-kit package"})," (experimental as of 10th May 2022) to create a package of the files in lib/src.\nThis may be configured via the ",(0,s.jsx)(n.code,{children:"svelte.config.js"})," file.",(0,s.jsx)(n.br,{}),"\n","See: ",(0,s.jsx)(n.a,{href:"https://kit.svelte.dev/docs/configuration#package",children:"https://kit.svelte.dev/docs/configuration#package"})," & ",(0,s.jsx)(n.a,{href:"https://kit.svelte.dev/docs/packaging",children:"https://kit.svelte.dev/docs/packaging"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run package\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Then, publish the packaged file. This repository defaults to publishing to our private registry, configured in the ",(0,s.jsx)(n.code,{children:".npmrc"})," file for installing npm modules, and the ",(0,s.jsx)(n.code,{children:"package.json"})," file (",(0,s.jsx)(n.code,{children:"publishConfig"}),") for publishing ",(0,s.jsx)(n.code,{children:"@mssfoobar/aoh-web"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd package\nnpm publish\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"You will be required to log in to access the private repository, obtain an account from the repository maintainer."})}),"\n",(0,s.jsx)(n.h2,{id:"automatic-publishing",children:"Automatic Publishing"}),"\n",(0,s.jsx)(n.p,{children:"GitHub Actions has been configured to automatically publish the package when a new release is created."}),"\n",(0,s.jsxs)(n.p,{children:["For more information on how to publish releases on GitHub, visit ",(0,s.jsx)(n.a,{href:"https://docs.github.com/en/repositories/releasing-projects-on-github/managing-releases-in-a-repository",children:"https://docs.github.com/en/repositories/releasing-projects-on-github/managing-releases-in-a-repository"}),"."]})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>c});var s=i(96540);const o={},t=s.createContext(o);function a(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);