"use strict";(self.webpackChunkaoh_documentation=self.webpackChunkaoh_documentation||[]).push([[7247],{98814:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>a});var o=t(74848),r=t(28453);const i={sidebar_position:2},s="\ud83d\udcbb Development",l={id:"wfe/guides/Workflow Engine/development",title:"\ud83d\udcbb Development",description:"DSL",source:"@site/docs/90_wfe/guides/Workflow Engine/development.md",sourceDirName:"90_wfe/guides/Workflow Engine",slug:"/wfe/guides/Workflow Engine/development",permalink:"/aoh-docs/docs/wfe/guides/Workflow Engine/development",draft:!1,unlisted:!1,editUrl:"https://github.com/mssfoobar/aoh-docs/tree/main/docs/90_wfe/guides/Workflow Engine/development.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"wfe",previous:{title:"\ud83d\ude80 Quickstart",permalink:"/aoh-docs/docs/wfe/guides/quickstart"},next:{title:"\ud83d\udcbb Development",permalink:"/aoh-docs/docs/wfe/guides/Workflow Worker/development"}},c={},a=[{value:"DSL",id:"dsl",level:2},{value:"Workflow Event History",id:"workflow-event-history",level:2}];function d(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"-development",children:"\ud83d\udcbb Development"}),"\n",(0,o.jsx)(n.h2,{id:"dsl",children:"DSL"}),"\n",(0,o.jsx)(n.p,{children:"WFE interprets dsl generated by Workflow Designer"}),"\n",(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:"Example Workflow DSL"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "name": "ExampleDSL",\n  "schema_json": {\n    "variables": {\n      "Input": 1,\n      "Form_FormJSON": "{}"\n    },\n    "specVersion": "2.0",\n    "root": {\n      "sequence": {\n        "elements": [\n          {\n            "activity": {\n              "activityId": "d29a7b91-9a13-426d-9ce4-ccacd2f0e844",\n              "name": "Activity",\n              "type": "SampleActivityNumber",\n              "arguments": ["Input"],\n              "result": "Activity_result"\n            }\n          },\n          {\n            "parallel": {\n              "branches": [\n                {\n                  "switch": {\n                    "input": "Activity_result",\n                    "cases": [\n                      {\n                        "conditional": {\n                          "operator": "EQ",\n                          "value": 1,\n                          "element": {\n                            "activity": {\n                              "activityId": "4cab9800-9feb-48ac-8803-98718f76e4cd",\n                              "name": "Activity1",\n                              "type": "SampleActivity1",\n                              "arguments": [],\n                              "result": "Activity1_result"\n                            }\n                          }\n                        }\n                      },\n                      {\n                        "conditional": {\n                          "operator": "EQ",\n                          "value": 2,\n                          "element": {\n                            "activity": {\n                              "activityId": "128668dc-09d0-4b96-8f5c-878350f8057c",\n                              "name": "Activity2",\n                              "type": "SampleActivity1",\n                              "arguments": [],\n                              "result": "Activity2_result"\n                            }\n                          }\n                        }\n                      }\n                    ]\n                  }\n                },\n                {\n                  "form": {\n                    "formId": "e31a5f78-3c24-4136-849d-e15133d2d233",\n                    "name": "Form",\n                    "type": "Checklist",\n                    "arguments": ["Form_FormJSON"],\n                    "result": "Form_result"\n                  }\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  }\n}\n'})})]}),"\n",(0,o.jsx)(n.p,{children:"Above example workflow dsl will trigger the execution of the workflow in following steps:-"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:".\n\u251c\u2500\u2500 execute Activity\n\u2514\u2500\u2500 parallel\n    \u251c\u2500\u2500 form\n    \u2514\u2500\u2500 switch\n        \u251c\u2500\u2500 case\n        \u2502   \u2514\u2500\u2500 execute Activity1\n        \u2514\u2500\u2500 case\n            \u2514\u2500\u2500 execute Activity2\n"})}),"\n",(0,o.jsx)(n.h2,{id:"workflow-event-history",children:"Workflow Event History"}),"\n",(0,o.jsxs)(n.p,{children:["History events are generated at run time by Temporal server.",(0,o.jsx)(n.br,{}),"\n","Refer to their ",(0,o.jsx)(n.a,{href:"https://docs.temporal.io/references/events",children:"documentation"})," for more details.",(0,o.jsx)(n.br,{}),"\n","We use the generated events to track the status of the workflow execution."]}),"\n",(0,o.jsx)(n.p,{children:"To handle the form submission and manual recovery of the switch state, WFE implements the following additional events -"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"FormTaskScheduled"}),"\n",(0,o.jsx)(n.li,{children:"FormTaskStarted"}),"\n",(0,o.jsx)(n.li,{children:"FormTaskCompleted"}),"\n",(0,o.jsx)(n.li,{children:"FormTaskFailed"}),"\n",(0,o.jsx)(n.li,{children:"FormTaskCanceled"}),"\n",(0,o.jsx)(n.li,{children:"RecoverTaskScheduled"}),"\n",(0,o.jsx)(n.li,{children:"RecoverTaskStarted"}),"\n",(0,o.jsx)(n.li,{children:"RecoverTaskCompleted"}),"\n",(0,o.jsx)(n.li,{children:"RecoverTaskFailed"}),"\n",(0,o.jsx)(n.li,{children:"RecoverTaskCanceled"}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var o=t(96540);const r={},i=o.createContext(r);function s(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);