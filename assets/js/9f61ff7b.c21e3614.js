(self.webpackChunkar2_documentation=self.webpackChunkar2_documentation||[]).push([[1292],{10515:(e,t,r)=>{e.exports={src:{srcSet:r.p+"assets/ideal-img/web_architecture.49a16e2.2033.png 2033w",images:[{path:r.p+"assets/ideal-img/web_architecture.49a16e2.2033.png",width:2033,height:1753}],src:r.p+"assets/ideal-img/web_architecture.49a16e2.2033.png",toString:function(){return r.p+"assets/ideal-img/web_architecture.49a16e2.2033.png"},placeholder:void 0,width:2033,height:1753},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAxUlEQVQYlU2OUWrDMBBEdcdesRfIOfpRSvvRQkNJqUmDMXEsS5ZW2n1FKgEPDAwM+2adF+Xx0/M6JcCQWsnDgviNaooZmBluSoWHl5nDbwSrrDESfCBtiZIzTQY4kQLjD2yBCsh5pQZBTbncPNfQAIZLUli/Poi3maJKjokihSKZYVkZfcC04tp+rkZV7TN7TdeZECO1Vlz/QRVVRURIKSGlEYW344nhMva+E+/uR7t8Gs+My/z/4768u9GbDs/vPB2/e/4DUiA2j8qmEp0AAAAASUVORK5CYII="}},34727:(e,t,r)=>{"use strict";r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>w,frontMatter:()=>c,metadata:()=>h,toc:()=>u});var i=r(87462),s=(r(67294),r(3905)),a=r(15944),n=r(10515),o=r.n(n);const c={sidebar_position:6},l="Architecture",h={unversionedId:"web/architecture",id:"web/architecture",title:"Architecture",description:"This section describes how the web service interacts with other services, ignoring infrastructural modules such as",source:"@site/docs/web/architecture.md",sourceDirName:"web",slug:"/web/architecture",permalink:"/ar2-docs/docs/web/architecture",draft:!1,editUrl:"https://github.com/mssfoobar/ar2-docs/tree/main/docs/web/architecture.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"web",previous:{title:"Pitfalls \u26b0\ufe0f",permalink:"/ar2-docs/docs/web/reference/pitfalls"},next:{title:"Technologies \ud83d\udd29",permalink:"/ar2-docs/docs/category/technologies-"}},d={},u=[],p={toc:u};function w(e){let{components:t,...r}=e;return(0,s.kt)("wrapper",(0,i.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"architecture"},"Architecture"),(0,s.kt)("p",null,"This section describes how the web service interacts with other services, ignoring infrastructural modules such as\nKubernetes, pods, containers etc."),(0,s.kt)("div",{class:"centerize"},(0,s.kt)(a.Z,{img:o(),width:"75%",mdxType:"Image"})),(0,s.kt)("p",null,"As the web server for your framework, it is the primary interface that users will interact with, and essentially depends\non everything else in the system to function properly. However, the components in the above diagram are the main,\ncritical pieces that the web server interfaces with."),(0,s.kt)("p",null,"The following is a brief description of the pieces in the diagram"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Browser")," - he clients that connect to the web server"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Web")," - the AGILRAD 2.0 web server"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Hasura")," - the server providing Graph QL API's - essentially the serving the purpose of what application servers do"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Identity Access Management")," - we use Keycloak for this, it is the identity provider for your users"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"Application Database")," - the database hosting application data")),(0,s.kt)("p",null,"The initial unauthenticated request from the browser to the web server will result in the user being redirected to the\nIAM to log in. The authentication process is faciliated using the OIDC Authentication Code Flow. After this flow is\ncompleted, the web server will receive the JWT tokens for the user, and set them as cookies on the user's browser."),(0,s.kt)("p",null,"If the user's request to the desired route is valid and authorized, the initial page render will be done server-side.\nSubsequent navigation is handled on the browser and all Graph QL requests are sent directly to Hasura. Any updates in\ndata is also done via Graph QL subscriptions over WebSocket. This allows for the interactive SPA\n(Single-Page Application) experience whilst also providing very fast initial response from server-side rendering."))}w.isMDXComponent=!0}}]);