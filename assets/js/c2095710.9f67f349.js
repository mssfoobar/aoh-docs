"use strict";(self.webpackChunkaoh_documentation=self.webpackChunkaoh_documentation||[]).push([[9602],{49806:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var o=r(74848),a=r(28453);const s={sidebar_position:80},t="Wrap up",i={id:"deployment/wrapup",title:"Wrap up",description:"Update load balancer with TLS secrets",source:"@site/docs/30_deployment/80-wrapup.md",sourceDirName:"30_deployment",slug:"/deployment/wrapup",permalink:"/aoh-docs/docs/deployment/wrapup",draft:!1,unlisted:!1,editUrl:"https://github.com/mssfoobar/aoh-docs/tree/main/docs/30_deployment/80-wrapup.md",tags:[],version:"current",sidebarPosition:80,frontMatter:{sidebar_position:80},sidebar:"deployment",previous:{title:"Configure AOH Applications",permalink:"/aoh-docs/docs/deployment/platform-aoh/configure-aoh-applications"},next:{title:"Loadtesting results",permalink:"/aoh-docs/docs/deployment/loadtest"}},c={},l=[{value:"Update load balancer with TLS secrets",id:"update-load-balancer-with-tls-secrets",level:3},{value:"Route53 zones",id:"route53-zones",level:3},{value:"Main Database configuration guide",id:"main-database-configuration-guide",level:3}];function d(e){const n={code:"code",h1:"h1",h3:"h3",li:"li",ol:"ol",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"wrap-up",children:"Wrap up"}),"\n",(0,o.jsx)(n.h3,{id:"update-load-balancer-with-tls-secrets",children:"Update load balancer with TLS secrets"}),"\n",(0,o.jsxs)(n.p,{children:["update and apply ",(0,o.jsx)(n.code,{children:"\\ar2-infra\\argocd\\<your cluster>\\init\\traefik\\values-for-aws-wfm.yml"})]}),"\n",(0,o.jsx)(n.h3,{id:"route53-zones",children:"Route53 zones"}),"\n",(0,o.jsx)(n.p,{children:"Setup set of shared dns names for the current version of deployment"}),"\n",(0,o.jsxs)(n.p,{children:["go to ",(0,o.jsx)(n.code,{children:"/ar2-infra/argocd/<clustername>/init/route53"}),"\nReplace the following with values from your cluster/environment:"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"<clustername>"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"<hostedzoneid>"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"<dns_name>"})}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Excecute the following command to get aws to generate the current route 53 records:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"aws route53 change-resource-record-sets --hosted-zone-id <hosted-zone-id> --change-batch file://<route53_record_file>.json"})}),"\n",(0,o.jsxs)(n.p,{children:['NOTE: the easiest way to obtain the "hostedzoneid" is to go to the hosted zone alias create record page,  Select Route traffic to " Alias to Network Load Balancer", ',(0,o.jsx)(n.code,{children:"<your region>"}),", ",(0,o.jsx)(n.code,{children:"<your load balancer>"}),', and the page will show the "Alias hosted zone ID", which is the ',(0,o.jsx)(n.code,{children:"<hostedzoneid>"})," you want to input."]}),"\n",(0,o.jsx)(n.h3,{id:"main-database-configuration-guide",children:"Main Database configuration guide"}),"\n",(0,o.jsx)(n.p,{children:"Customise the follow files to configure the Main Database to use any database service of your choosing"}),"\n",(0,o.jsxs)(n.p,{children:["NOTE:  ",(0,o.jsx)(n.code,{children:"<your-cluster-name> "})," is your cluster name"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"\\ar2-infra\\argocd\\<your-cluster-name>\\apps-children\\temporalio.yml "})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"\\ar2-infra\\argocd\\<your-cluster-name>\\manifests\\aoh-sys\\timekeeper-deployment.yml "})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"\\ar2-infra\\argocd\\<your-cluster-name>\\manifests\\ar2-ims\\imsmgr-deployment.yml "})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"\\ar2-infra\\argocd\\<your-cluster-name>\\manifests\\ar2-rnr\\debezium-deployment.yml "})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"\\ar2-infra\\argocd\\<your-cluster-name>\\manifests\\ar2-rnr\\periodic-backup-raw-cronjob.yml "})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"\\ar2-infra\\argocd\\<your-cluster-name>\\manifests\\ar2-rnr\\periodic-cleanup-cronjob.yml "})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"\\ar2-infra\\argocd\\<your-cluster-name>\\manifests\\ar2-rnr\\rnr-deployment.yml "})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"\\ar2-infra\\argocd\\<your-cluster-name>\\manifests\\ar2-ucs\\app-room-config.yaml "})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"\\ar2-infra\\argocd\\<your-cluster-name>\\manifests\\ar2-ucs\\app-room-mgmt-config.yaml "})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"\\ar2-infra\\argocd\\<your-cluster-name>\\manifests\\ar2-ucs\\app-room-playback-config.yaml "})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"\\ar2-infra\\argocd\\<your-cluster-name>\\manifests\\ar2-ucs\\app-room-recorder-config.yaml "})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"\\ar2-infra\\argocd\\<your-cluster-name>\\manifests\\ar2-ucs\\app-room-sentry-config.yaml "})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>i});var o=r(96540);const a={},s=o.createContext(a);function t(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);