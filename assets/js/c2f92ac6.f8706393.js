"use strict";(self.webpackChunkaoh_documentation=self.webpackChunkaoh_documentation||[]).push([[479],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=u(n),m=a,h=p["".concat(l,".").concat(m)]||p[m]||d[m]||o;return n?r.createElement(h,i(i({ref:t},c),{},{components:n})):r.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},90264:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var r=n(87462),a=(n(67294),n(3905));const o={sidebar_position:4},i="User Interface State",s={unversionedId:"web/api/ui_state",id:"web/api/ui_state",title:"User Interface State",description:"Automatically saving what the user was last doing can provide a seamless way for users to work across multiple devices.",source:"@site/docs/40_web/20_api/40_ui_state.md",sourceDirName:"40_web/20_api",slug:"/web/api/ui_state",permalink:"/aoh-docs/docs/web/api/ui_state",draft:!1,editUrl:"https://github.com/mssfoobar/aoh-docs/tree/main/docs/40_web/20_api/40_ui_state.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"web",previous:{title:"Piechart with Progress bar",permalink:"/aoh-docs/docs/web/api/charts/piechartwithprogressbar"}},l={},u=[],c={toc:u},p="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"user-interface-state"},"User Interface State"),(0,a.kt)("p",null,"Automatically saving what the user was last doing can provide a seamless way for users to work across multiple devices.\nIt can also allow them to resume their work without having to explicitly click ",(0,a.kt)("inlineCode",{parentName:"p"},"save")," every time."),(0,a.kt)("p",null,"A ",(0,a.kt)("inlineCode",{parentName:"p"},"uiState")," store is provided in the core library (",(0,a.kt)("inlineCode",{parentName:"p"},"src/lib/core/core.ts"),") for this purpose."),(0,a.kt)("p",null,"To use the store, simply import it and add whatever UI state you need to store under the appropriate namespace when\nsaving, and read on initialization to restore the state."),(0,a.kt)("p",null,"The following example shows how you might store user input that has not been submitted."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'<script lang="ts" context="module">\n    import { uiState } from \'$lib/core/core\';\n    import { onMount } from \'svelte\'\n\n    const UI_STATE_EXAMPLE = "example_state_key"\n<\/script>\n\n<script lang="ts">\n\n    let inputValue = "";\n\n    onMount(()=> {\n        // Restore last saved input\n        inputValue = $uiState.other[UI_STATE_EXAMPLE]\n    });\n<\/script>\n\n<input bind:value={inputValue} on:input={()=>{\n    // Save input every time it is changed\n    $uiState.other[UI_STATE_EXAMPLE] = inputValue;\n}} />\n')),(0,a.kt)("p",null,"You can update the ",(0,a.kt)("inlineCode",{parentName:"p"},"uiState")," store as frequently as you want (within reason), as calls to the API are automatically\nhandled by the framework and debounced at a reasonable threshold."),(0,a.kt)("h1",{id:"limitations"},"Limitations"),(0,a.kt)("p",null,"As of the current implementation, there are some considerations to note:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"It might not be wise to store sensitive information in this state variable as it will be stored in the database"),(0,a.kt)("li",{parentName:"ul"},"The UI state variable can grow very large if used loose-handedly or is not checked (e.g. storing unbounded user\ninputs)"),(0,a.kt)("li",{parentName:"ul"},"Adding additional namespaces requires core change")))}d.isMDXComponent=!0}}]);