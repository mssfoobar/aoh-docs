"use strict";(self.webpackChunkaoh_documentation=self.webpackChunkaoh_documentation||[]).push([[6800],{89690:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>c,toc:()=>a});var i=o(74848),t=o(28453);const s={sidebar_position:30,description:"How to develop using this module."},r="Development",c={id:"documentation/guides/development",title:"Development",description:"How to develop using this module.",source:"@site/docs/99_documentation/20_guides/30_development.mdx",sourceDirName:"99_documentation/20_guides",slug:"/documentation/guides/development",permalink:"/aoh-docs/docs/documentation/guides/development",draft:!1,unlisted:!1,editUrl:"https://github.com/mssfoobar/aoh-docs/tree/main/docs/99_documentation/20_guides/30_development.mdx",tags:[],version:"current",sidebarPosition:30,frontMatter:{sidebar_position:30,description:"How to develop using this module."},sidebar:"documentation",previous:{title:"Configuration",permalink:"/aoh-docs/docs/documentation/guides/configuration"},next:{title:"\u26a1 Quick Reference",permalink:"/aoh-docs/docs/category/-quick-reference-1"}},d={},a=[{value:"Docusaurus Open API Docs Plugin",id:"docusaurus-open-api-docs-plugin",level:2},{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"Docusaurus configuration",id:"docusaurus-configuration",level:2},{value:"1. Create a new folder in the <code>openapi</code> folder",id:"1-create-a-new-folder-in-the-openapi-folder",level:3},{value:"2. Copy your Open API file into the folder.",id:"2-copy-your-open-api-file-into-the-folder",level:3},{value:"3. Create a new entry in the <code>docusaurus-plugin-openapi-docs</code> config",id:"3-create-a-new-entry-in-the-docusaurus-plugin-openapi-docs-config",level:3},{value:"4. Restart the Docusaurus server",id:"4-restart-the-docusaurus-server",level:3},{value:"5. Check for errors",id:"5-check-for-errors",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"development",children:"Development"}),"\n",(0,i.jsxs)(n.p,{children:["The development section that you write for your module should provide step by step instructions with examples of\nhow to use your API. In this ",(0,i.jsx)(n.code,{children:"Documentation"})," case, we'll actually be providing you with step-by-step- instructions on\nhow to create the API documentation in the ",(0,i.jsx)(n.code,{children:"Example API"})," section."]}),"\n",(0,i.jsx)(n.h2,{id:"docusaurus-open-api-docs-plugin",children:"Docusaurus Open API Docs Plugin"}),"\n",(0,i.jsx)(n.p,{children:"The documentation in the API section is generated from an Open API file using a Docusarus plugin. This document will not\ncover how to write an Open API specification file, but will provide some guidance on how it maps to documentation in\nDocusaurus."}),"\n",(0,i.jsx)(n.h2,{id:"pre-requisites",children:"Pre-requisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The Open API file for your service. The example for this section can be found at ",(0,i.jsx)(n.code,{children:"openapi/documentation/mnm-v1.yaml"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"docusaurus-configuration",children:"Docusaurus configuration"}),"\n",(0,i.jsx)(n.p,{children:"In order for the doc generation to work, you will need to copy in your Open API file."}),"\n",(0,i.jsxs)(n.h3,{id:"1-create-a-new-folder-in-the-openapi-folder",children:["1. Create a new folder in the ",(0,i.jsx)(n.code,{children:"openapi"})," folder"]}),"\n",(0,i.jsx)(n.p,{children:"The folder name should match your module name:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:'title="aoh-docs >"',children:"mkdir openapi/my_new_module\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-copy-your-open-api-file-into-the-folder",children:"2. Copy your Open API file into the folder."}),"\n",(0,i.jsxs)(n.p,{children:["This should be a ",(0,i.jsx)(n.code,{children:".yaml"})," file. The following block shows which important fields in the Open API spec map to\nDocusaurus docs:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="mnm-v1.yaml"',children:'info:\n    description: |\n        This maps to the "Introduction" page.\n    paths:\n        examplePath:\n            summary: This will appear as the page title of each endpoint\n            description: |\n                This will appear as the description of your endpoint\n'})}),"\n",(0,i.jsxs)(n.p,{children:["You should not need to adjust your Open API file much to fit this but it is important to note that the ",(0,i.jsx)(n.code,{children:"summary"})," is\nakin to a title for the endpoint."]}),"\n",(0,i.jsx)(n.p,{children:"Next, you will need to modify the Docusaurus config files to consider your new Open API file for doc generation."}),"\n",(0,i.jsxs)(n.h3,{id:"3-create-a-new-entry-in-the-docusaurus-plugin-openapi-docs-config",children:["3. Create a new entry in the ",(0,i.jsx)(n.code,{children:"docusaurus-plugin-openapi-docs"})," config"]}),"\n",(0,i.jsx)(n.p,{children:"The entry should use the following format:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"my_new_module"}),": The name of your module. This will influence the Open API generation command, change the property\nkey to fit your module name."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"specPath"}),": The path to your Open API specification file."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"outpurDir"}),": The directory to place the generated files - this should be where your new module documentation resides."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The 3 properties above should be changed, leave the rest of the options as they are."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",metastring:'title="aoh-docs/docusaurus.config.js"',children:'const config = {\n    ...\n    plugins: [\n        ...\n        [\n            ...\n            {\n                ...\n                config: {\n                    // highlight-start\n                    my_new_module: {\n                        specPath: "openapi/my_new_module/mnm-v1.yaml",\n                        outputDir: "docs/91_documentation/Example API",\n                    // highlight-end\n                        sidebarOptions: {\n                            groupPathsBy: "tag",\n                        },\n                        hideSendButton: true,\n                    },\n                }\n                ...\n            }\n        ]\n        ...\n    ]\n    ...\n}\n\n'})}),"\n",(0,i.jsxs)(n.p,{children:["To understand more about the configuration options, see:\n",(0,i.jsx)(n.a,{href:"https://github.com/PaloAltoNetworks/docusaurus-openapi-docs?tab=readme-ov-file#config",children:"https://github.com/PaloAltoNetworks/docusaurus-openapi-docs?tab=readme-ov-file#config"})]}),"\n",(0,i.jsx)(n.h3,{id:"4-restart-the-docusaurus-server",children:"4. Restart the Docusaurus server"}),"\n",(0,i.jsx)(n.p,{children:"If the server is already running locally, you will need to restart it first:"}),"\n",(0,i.jsxs)(n.p,{children:["Hit ",(0,i.jsx)(n.code,{children:"Ctrl + C"})," to stop the currently running server. Then run:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:'title="aoh-docs >"',children:"npm run start\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-check-for-errors",children:"5. Check for errors"}),"\n",(0,i.jsxs)(n.p,{children:["Successfully serving Docusaurus in development mode via ",(0,i.jsx)(n.code,{children:"start"})," does not guarantee that it will successfully build. The\nbuild process performs additional checks, most notably, it exhaustively looks for broken links in the project."]}),"\n",(0,i.jsxs)(n.p,{children:["Before committing your changes, make sure to run ",(0,i.jsx)(n.code,{children:"build"})," and ",(0,i.jsx)(n.code,{children:"serve"})," to see if there are any issues in the production\nbuild after making your changes."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",metastring:'title="aoh-docs >"',children:'npm run build\n\n```bash title="aoh-docs >"\nnpm run serve\n'})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>c});var i=o(96540);const t={},s=i.createContext(t);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);