<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-overview/architecture">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">📐 Architecture | AGIL Ops Hub</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mssfoobar.github.io/aoh-docs/docs/overview/architecture"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="📐 Architecture | AGIL Ops Hub"><meta data-rh="true" name="description" content="This section describes how the web service interacts with other services, ignoring infrastructural modules such as"><meta data-rh="true" property="og:description" content="This section describes how the web service interacts with other services, ignoring infrastructural modules such as"><link data-rh="true" rel="icon" href="/aoh-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mssfoobar.github.io/aoh-docs/docs/overview/architecture"><link data-rh="true" rel="alternate" href="https://mssfoobar.github.io/aoh-docs/docs/overview/architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://mssfoobar.github.io/aoh-docs/docs/overview/architecture" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/aoh-docs/releases/rss.xml" title="AGIL Ops Hub RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/aoh-docs/releases/atom.xml" title="AGIL Ops Hub Atom Feed">







<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/aoh-docs/assets/css/styles.71a39d2b.css">
<link rel="preload" href="/aoh-docs/assets/js/runtime~main.b782f972.js" as="script">
<link rel="preload" href="/aoh-docs/assets/js/main.41fe8cbd.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/aoh-docs/"><b class="navbar__title text--truncate">AGIL Ops Hub</b></a><a class="navbar__item navbar__link" href="/aoh-docs/releases">Releases</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aoh-docs/docs/overview/introduction">Overview</a><a class="navbar__item navbar__link" href="/aoh-docs/docs/development/introduction">Development</a><a class="navbar__item navbar__link" href="/aoh-docs/docs/deployment/overview">Deployment</a><a class="navbar__item navbar__link" href="/aoh-docs/docs/web/introduction">Web</a><a class="navbar__item navbar__link" href="/aoh-docs/docs/iam/introduction">IAM</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">UCS</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/aoh-docs/docs/ucs/introduction">Guide</a></li><li><a class="dropdown__link" href="/aoh-docs/docs/ucs/api">API</a></li></ul></div><a class="navbar__item navbar__link" href="/aoh-docs/docs/gis/introduction">GIS</a><a class="navbar__item navbar__link" href="/aoh-docs/docs/rnr/introduction">RNR</a><a class="navbar__item navbar__link" href="/aoh-docs/docs/wfe/introduction">WFE</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/aoh-docs/docs/overview/introduction">Next</a><a href="https://github.com/mssfoobar" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/aoh-docs/docs/overview/introduction">🆕 Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/aoh-docs/docs/overview/architecture">📐 Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/aoh-docs/docs/overview/collaboration">🫶 Collaboration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aoh-docs/docs/category/-technologies">🔩 Technologies</a><button aria-label="Toggle the collapsible sidebar category &#x27;🔩 Technologies&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/aoh-docs/docs/category/-quick-reference">⚡ Quick Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;⚡ Quick Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_BDYx"><div class="docItemContainer_oq1c"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/aoh-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">📐 Architecture</span><meta itemprop="position" content="1"></li></ul></nav><div class="theme-doc-markdown markdown"><div class="row"><div class="col col--12"><h1>📐 Architecture</h1><p>This section describes how the web service interacts with other services, ignoring infrastructural modules such as
Kubernetes, pods, containers etc.</p><div class="centerize"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsSAAALEgHS3X78AAABSklEQVQYlTWOz07cMByE87h9gooTD1EVUVH1gPoQRRESF3pBKtVWpUu6gSW7JLGTn7O2Y+ev7UEBcRjN5dN8E9UG50L5vFH+P1mkgk+pMEjJhJTasCGDTFhcRtqGq+M7jY8rCd702KcN8rpDKXskJUMtB5DFNhJ6vrgsDOLCztQ6z+vB82r0THZ+m+0cP3So2nAfFTrEPWNAlrjSeLBnA150YKpH2rS+ViMq7ZNIWMSV7MFJOzIBogNED3A54pm052pCeZgWMMRkAK69q7QDVzPqNqAQBrebzFdyQNGMSUQGsTAB1L6CoVJzqNsQ2MGGp2LnazWBqXkBw49FSSZMwsKRhZM93FMzuG8/VxOT42JZLx+vmw54j7BvzZTD7SOhbIZlpIge88OHm1Xy/WaVfP319+Hs93r75U+yO/33kJ9kOX3a7OnzvjJHL1X9b+Rz7sgwAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1118" height="1162"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/aoh-docs/assets/ideal-img/web_architecture.17f8364.1118.png" srcset="/aoh-docs/assets/ideal-img/web_architecture.17f8364.1118.png 1118w" width="1118" height="1162"></noscript></div></div><p>As the web server for your framework, it is the primary interface that users will interact with, and essentially depends
on everything else in the system to function properly. However, the components in the above diagram are the main,
critical pieces that the web server interfaces with.</p><p>The following is a brief description of the pieces in the diagram</p><ul><li><strong>Browser</strong> - he clients that connect to the web server</li><li><strong>Web</strong> - the AGILRAD 2.0 web server</li><li><strong>Hasura</strong> - the server providing Graph QL API&#x27;s - essentially the serving the purpose of what application servers do</li><li><strong>Identity Access Management</strong> - we use Keycloak for this, it is the identity provider for your users</li><li><strong>Application Database</strong> - the database hosting application data</li></ul><p>The initial unauthenticated request from the browser to the web server will result in the user being redirected to the
IAM to log in. The authentication process is faciliated using the OIDC Authentication Code Flow. After this flow is
completed, the web server will receive the JWT tokens for the user, and set them as cookies on the user&#x27;s browser.</p><p>If the user&#x27;s request to the desired route is valid and authorized, the initial page render will be done server-side.
This initial render gets data from Hasura using the user&#x27;s JWT to provide authentication. Subsequent navigation is
handled on the browser and all Graph QL requests are sent directly to a Hasura instance that accepts cookie-based
authentication instead (this is for security reasons). Any updates in data is also done via Graph QL subscriptions over
WebSocket. This allows for the interactive SPA (Single-Page Application) experience whilst also providing very fast
initial response from server-side rendering.</p></div></div></div><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/mssfoobar/aoh-docs/tree/main/docs/10_overview/20_architecture.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></div></article><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/aoh-docs/docs/overview/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">🆕 Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/aoh-docs/docs/overview/collaboration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">🫶 Collaboration</div></a></nav></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/mssfoobar" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Organisation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.stengg.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ST Engineering<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 | ST Engineering</div></div></div></footer></div>
<script src="/aoh-docs/assets/js/runtime~main.b782f972.js"></script>
<script src="/aoh-docs/assets/js/main.41fe8cbd.js"></script>
</body>
</html>